package fr.cyann.geom.spatial.data;

import fr.cyann.geom.spatial.data.coord.XY;
import junit.framework.TestCase;

/**
 * Copyright (C) 08/04/16 Yann Caron aka cyann
 * <p>
 * Cette œuvre est mise à disposition sous licence Attribution - Pas
 * d’Utilisation Commerciale - Partage dans les Mêmes Conditions 3.0 France.
 * Pour voir une copie de cette licence, visitez
 * http://creativecommons.org/licenses/by-nc-sa/3.0/fr/ ou écrivez à Creative
 * Commons, 444 Castro Street, Suite 900, Mountain View, California, 94041, USA.
 *
 */
public class PolygonTest extends TestCase {

    public static final byte[] BYTES = new byte[]{
        0x01, // 1 Little-endian
        0x03, 0x00, 0x00, 0x00, // 3 Polygon
        0x02, 0x00, 0x00, 0x00, // 2 Rings
        0x06, 0x00, 0x00, 0x00, // Size 6
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x04, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x04, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x04, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x04, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x04, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x04, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x0E, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x04, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x0E, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x04, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x04, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x04, 0x04, 0x00,
        0x05, 0x00, 0x00, 0x00, // Size 5
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0F, 0x00, 0x03, 0x0F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0F, 0x00, 0x03, 0x0F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0F, 0x00, 0x03, 0x0F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0F, 0x00, 0x03, 0x0F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0F, 0x00, 0x03, 0x0F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0F, 0x00, 0x03, 0x0F
    };
    
    public static final String JSON = "{\"type\": \"Polygon\", \"coordinates\": [[[10.0, 10.0], [10.0, 20.0], [20.0, 20.0], [30.0, 20.0], [30.0, 10.0], [10.0, 10.0]], [[1.0, 1.0], [1.0, 2.0], [2.0, 2.0], [2.0, 1.0], [1.0, 1.0]]]}";

    public static final String STRING = "POLYGON((10 10,10 20,20 20,30 20,30 10,10 10),(1 1,1 2,2 2,2 1,1 1))";

    public void testUnMarshall () throws Exception {

    }

    public void testMarshall () throws Exception {

    }

    public void testUnMarshallBinary () throws Exception {
        //assertEquals(Polygon.unMarshall(XY.class, STRING), Polygon.unMarshall(BYTES));
    }

    public void testToGeoJson () throws Exception {
        String json = Polygon.unMarshall(XY.class, STRING).toGeoJson();
        
        assertEquals(json, JSON);
    }

}
